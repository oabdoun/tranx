apply plugin: 'java'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

compileJava {
	options.encoding = 'UTF-8'
	options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
}

compileTestJava {
	options.encoding = 'UTF-8'
	options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
}

repositories {
	mavenCentral()
}

dependencies {
	compile 'io.dropwizard:dropwizard-core:0.9.2'
	testCompile 'junit:junit:4.12'
	testCompile 'org.mockito:mockito-all:1.10.19'
	testCompile 'io.dropwizard:dropwizard-testing:0.9.2'
	testCompile 'io.dropwizard:dropwizard-client:0.9.2'
}

task start(type: JavaExec) {
	classpath = sourceSets.main.runtimeClasspath
	main = 'de.number26.tranx.TranxServer'
	args = ['server', 'src/test/resources/tranx.yaml']
}